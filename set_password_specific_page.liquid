
{% if page.handle == 'landing-page' %}

<div id="gateWrapper">

  <div id="passwordGate">
    <h2>Enter Access Code</h2>
    <input type="password" id="passInput">
    <button onclick="checkPass()">Enter</button>
    <p id="error" style="display:none;color:red;">Wrong password</p>
  </div>

  <main id="MainContent" class="content-for-layout focus-none" role="main" tabindex="-1" style="display:none;">
    {{ content_for_layout }}
  </main>

</div>

<script>
const PASSWORD = "fit2025";

function checkPass(){
  let val = document.getElementById('passInput').value;

  if(val === PASSWORD){
    sessionStorage.setItem("landing_access","granted");
    unlockPage();
  } else {
    document.getElementById("error").style.display="block";
  }
}

function unlockPage(){
  document.getElementById("passwordGate").style.display="none";
  document.getElementById("MainContent").style.display="block";
}

// already unlocked
if(sessionStorage.getItem("landing_access")==="granted"){
  unlockPage();
}
</script>

{% else %}

<main id="MainContent" class="content-for-layout focus-none" role="main" tabindex="-1">
  {{ content_for_layout }}
</main>

{% endif %}
